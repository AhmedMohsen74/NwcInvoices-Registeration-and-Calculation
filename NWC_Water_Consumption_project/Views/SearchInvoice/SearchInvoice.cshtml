@model NWC_Water_Consumption_project.Models.TblNwcInvoice

    <div class="container">
    <main>
        <section class="main">
            <form action="" method="">
                <h3>استفسار عن فاتورة</h3>
                <div class="form-layout">
                    <div class="right">
                        <div class="form-input">
                            <label>رقم الفاتورة</label>
                            <input type="text" name="NwcInvoicesNo" id="NwcInvoicesNo" placeholder="قم بإدخل رقم الفاتورة" />
                        </div>

                        <div class="form-input">
                            <label>من تاريخ</label>
                            <input type="text" name="NwcInvoicesFrom" id="NwcInvoicesFrom" readonly />
                        </div>

                        <div class="form-input">
                            <label>رقم الاشتراك</label>
                            <input type="text" name="NwcInvoicesSubscriptionNo" id="NwcInvoicesSubscriptionNo" readonly />
                        </div>

                        <div class="form-input">
                            <label>هوية المشترك</label>
                            <input type="text" name="NwcInvoicesSubscriberNo" id="NwcInvoicesSubscriberNo" readonly />
                        </div>

                        <div class="form-input">
                            <label>القراءة السابقة</label>
                            <input type="text" name="NwcInvoicesPreviousConsumptionAmount" id="NwcInvoicesPreviousConsumptionAmount" readonly />
                        </div>

                        <div class="form-input">
                            <label for="quantity">كمية الاستهلاك</label>
                            <input type="text" name="NwcInvoicesAmountConsumption" id="NwcInvoicesAmountConsumption" readonly />
                        </div>

                        <div class="form-input">
                            <label>هل يوجد صرف صحي</label>
                            <input type="text" name="NwcInvoicesIsThereSanitation" id="NwcInvoicesIsThereSanitation" readonly />
                        </div>

                        <div class="form-input">
                            <label for="value">قيمة رسوم الخدمة</label>
                            <input type="text" name="NwcInvoicesServiceFee" id="NwcInvoicesServiceFee" readonly />
                        </div>

                        <div class="form-input">
                            <label>قيمة استهلاك المياة</label>
                            <input type="text" name="NwcInvoicesConsumptionValue" id="NwcInvoicesConsumptionValue" readonly />
                        </div>

                        <div class="form-input">
                            <label>قيمة الفاتورة</label>
                            <input type="text" name="NwcInvoicesTotalInvoice" id="NwcInvoicesTotalInvoice" readonly />
                        </div>

                    </div>

                    <div class="left">
                        <div>
                            <div class="form-input">
                                <label>تاريخ الفاتورة</label>
                                <input type="text" name="NwcInvoicesDate" id="NwcInvoicesDate" readonly />
                            </div>

                            <div class="form-input">
                                <label>إلي تاريخ</label>
                                <input type="text" name="NwcInvoicesTo" id="NwcInvoicesTo" readonly />
                            </div>
                        </div>

                        <div>
                            <div class="form-input bigg">
                                <label>الاسم</label>
                                <input type="text" name="SubscriberName" id="SubscriberName" readonly />
                            </div>

                            <div class="form-input">
                                <label>القراءة الحالية</label>
                                <input type="text" name="NwcInvoicesCurrentConsumptionAmount" id="NwcInvoicesCurrentConsumptionAmount" readonly />
                            </div>
                        </div>

                        <div>
                            <div class="form-input">
                                <label>عدد الوحدات</label>
                                <input type="text" name="Unit" id="Unit" readonly />
                            </div>

                            <div class="form-input">
                                <label>نسبة الضريبة</label>
                                <input type="text" name="NwcInvoicesTaxRate" id="NwcInvoicesTaxRate" readonly />
                            </div>

                            <div class="form-input">
                                <label>قيمة استهلاك الصرف الصحي</label>
                                <input type="text" name="NwcInvoicesWastewaterConsumptionValue" id="NwcInvoicesWastewaterConsumptionValue" readonly />
                            </div>

                            <div class="form-input">
                                <label>اجمالي الفاتورة</label>
                                <input type="text" name="NwcInvoicesTotalBill" id="NwcInvoicesTotalBill" readonly />
                            </div>
                        </div>


                    </div>

                </div>

                <div class="form-control">

                    <button>إنهاء</button>
                </div>
            </form>
            @if (TempData["Failed Message"] != null)
            {
                <div class="alert alert-success" style="background-color:red; color:white; font-size: 30px; text-align: center">@TempData["Failed Message"]</div>
            }
        </section>
    </main>
        
    </div>




<style>
form{
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 30px 70px;
    border: 2px solid black;
}
form h3{
    align-self: start;
    font-size: 25px;
    margin-bottom: 30px;
}
.form-layout{
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    gap: 60px;
}

.form-input{
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    font-size: 18px;
    gap: 20px;
    margin: 20px 0;
}
.form-input label{
    width: 200px;
}
.form-input input{
    min-width: 20px;
    padding: 5px ;
    border: 2px solid black;
    font-size: 18px;
}
.form-control{
    display: flex;
    margin-top: 30px;
    flex-direction: row;
    gap: 20px;
    justify-content: space-between;
}
.form-control button{
    padding: 15px 60px;
    border: 1px solid black ;
    color: white;
    font-size: 18px;
    cursor: pointer;
    background-color: #4646FF;
}
form .left{
    display: flex;
    flex-direction:column;
    justify-content:space-between;
}

.bigg input {
    text-align: center;

}


</style>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>

    $(document).ready(function () {
        $("#NwcInvoicesNo").change(function () {
            var newValue = $(this).val();
            myFunction(newValue);
        });
    });

    function myFunction(newValue) {
        $.post("/SearchInvoice/GetInvoiceData",
            { invoiceId: newValue })
            .done(function (response) {
                $('#NwcInvoicesDate').val(response.da1);
                $('#NwcInvoicesFrom').val(response.da2);
                $('#NwcInvoicesTo').val(response.da3);
                $('#Unit').val(response.da4);
                $('#NwcInvoicesSubscriptionNo').val(response.da5);
                $('#NwcInvoicesSubscriberNo').val(response.da6);
                $('#SubscriberName').val(response.da7);
                $('#NwcInvoicesPreviousConsumptionAmount').val(response.da8);
                $('#NwcInvoicesCurrentConsumptionAmount').val(response.da9);
                $('#NwcInvoicesAmountConsumption').val(response.da10);
                $('#NwcInvoicesServiceFee').val(response.da11);
                $('#NwcInvoicesTaxRate').val(response.da12);
                $('#NwcInvoicesIsThereSanitation').val(response.da13);
                $('#NwcInvoicesConsumptionValue').val(response.da14);
                $('#NwcInvoicesWastewaterConsumptionValue').val(response.da15);
                $('#NwcInvoicesTotalInvoice').val(response.da16);
                $('#NwcInvoicesTotalBill').val(response.da17);
            })
            .fail(function (xhr, status, error) {
                console.error(xhr.responseText);
                console.error(xhr.status);
                alert("no");
            });
    }
    function clear() {
        $('#NwcInvoicesNo').val("");
        $('#NwcInvoicesDate').val("");
        $('#NwcInvoicesFrom').val("");
        $('#NwcInvoicesTo').val("");
        $('#Unit').val("");
        $('#NwcInvoicesSubscriptionNo').val("");
        $('#NwcInvoicesSubscriberNo').val("");
        $('#SubscriberName').val("");
        $('#NwcInvoicesPreviousConsumptionAmount').val("");
        $('#NwcInvoicesCurrentConsumptionAmount').val("");
        $('#NwcInvoicesAmountConsumption').val("");
        $('#NwcInvoicesServiceFee').val("");
        $('#NwcInvoicesTaxRate').val("");
        $('#NwcInvoicesIsThereSanitation').val("");
        $('#NwcInvoicesConsumptionValue').val("");
        $('#NwcInvoicesWastewaterConsumptionValue').val("");
        $('#NwcInvoicesTotalInvoice').val("");
        $('#NwcInvoicesTotalBill').val("");
    }

</script>